/**
 * @depends nothing
 * @name core.console
 * @package jquery-sparkle {@link http://balupton.com/projects/jquery-sparkle}
 *//**
 * Console Emulator
 * We have to convert arguments into arrays, and do this explicitly as webkit (chrome) hates function references, and arguments cannot be passed as is
 * @version 1.0.3
 * @date August 31, 2010
 * @since 0.1.0-dev, December 01, 2009
 * @package jquery-sparkle {@link http://balupton.com/projects/jquery-sparkle}
 * @author Benjamin "balupton" Lupton {@link http://balupton.com}
 * @copyright (c) 2009-2010 Benjamin Arthur Lupton {@link http://balupton.com}
 * @license MIT License {@link http://creativecommons.org/licenses/MIT/}
 */// Check to see if console exists, if not define it
typeof window.console=="undefined"&&(window.console={});if(typeof window.console.emulated=="undefined"){if(typeof window.console.log=="function")window.console.hasLog=!0;else{typeof window.console.log=="undefined"&&(window.console.log=function(){});window.console.hasLog=!1}if(typeof window.console.debug=="function")window.console.hasDebug=!0;else{typeof window.console.debug=="undefined"&&(window.console.debug=window.console.hasLog?function(){var e=["console.debug:"];for(var t=0;t<arguments.length;t++)e.push(arguments[t]);window.console.log.apply(window.console,e)}:function(){});window.console.hasDebug=!1}if(typeof window.console.warn=="function")window.console.hasWarn=!0;else{typeof window.console.warn=="undefined"&&(window.console.warn=window.console.hasLog?function(){var e=["console.warn:"];for(var t=0;t<arguments.length;t++)e.push(arguments[t]);window.console.log.apply(window.console,e)}:function(){});window.console.hasWarn=!1}if(typeof window.console.error=="function")window.console.hasError=!0;else{typeof window.console.error=="undefined"&&(window.console.error=function(){var e="An error has occured.";if(window.console.hasLog){var t=["console.error:"];for(var n=0;n<arguments.length;n++)t.push(arguments[n]);window.console.log.apply(window.console,t);e="An error has occured. More information is available in your browser's javascript console."}for(var n=0;n<arguments.length;++n){if(typeof arguments[n]!="string")break;e+="\n"+arguments[n]}throw typeof Error!="undefined"?new Error(e):e});window.console.hasError=!1}if(typeof window.console.trace=="function")window.console.hasTrace=!0;else{typeof window.console.trace=="undefined"&&(window.console.trace=function(){window.console.error("console.trace does not exist")});window.console.hasTrace=!1}window.console.emulated=!0}(function(e){if(!e.History&&!0){e.History={options:{debug:!1},state:"",$window:null,$iframe:null,handlers:{generic:[],specific:{}},extractHash:function(e){var t=e.replace(/^[^#]*#/,"").replace(/^#+|#+$/,"");return t},getState:function(){var t=e.History;return t.state},setState:function(t){var n=e.History;t=n.extractHash(t);n.state=t;return n.state},getHash:function(){var t=e.History,n=t.extractHash(window.location.hash||location.hash);return n},setHash:function(t){var n=e.History;t=n.extractHash(t);typeof window.location.hash!="undefined"?window.location.hash!==t&&(window.location.hash=t):location.hash!==t&&(location.hash=t);return t},go:function(t){var n=e.History;t=n.extractHash(t);var r=n.getHash(),i=n.getState();if(t!==r)n.setHash(t);else{t!==i&&n.setState(t);n.trigger()}return!0},hashchange:function(t){var n=e.History,r=n.getHash();n.go(r);return!0},bind:function(t,n){var r=e.History;if(n){typeof r.handlers.specific[t]=="undefined"&&(r.handlers.specific[t]=[]);r.handlers.specific[t].push(n)}else{n=t;r.handlers.generic.push(n)}return!0},trigger:function(t){var n=e.History;typeof t=="undefined"&&(t=n.getState());var r,i,s,o;if(typeof n.handlers.specific[t]!="undefined"){o=n.handlers.specific[t];for(r=0,i=o.length;r<i;++r){s=o[r];s(t)}}o=n.handlers.generic;for(r=0,i=o.length;r<i;++r){s=o[r];s(t)}return!0},construct:function(){var t=e.History;e(document).ready(function(){t.domReady()});return!0},configure:function(t){var n=e.History;n.options=e.extend(n.options,t);return!0},domReadied:!1,domReady:function(){var t=e.History;if(t.domRedied)return;t.domRedied=!0;t.$window=e(window);t.$window.bind("hashchange",this.hashchange);setTimeout(t.hashchangeLoader,200);return!0},nativeSupport:function(t){t=t||e.browser;var n=t.version,r=parseInt(n,10),i=n.split(/[^0-9]/g),s=parseInt(i[0],10),o=parseInt(i[1],10),u=parseInt(i[2],10),a=!1;if((t.msie||!1)&&r>=8)a=!0;else if((t.webkit||!1)&&r>=528)a=!0;else if(t.mozilla||!1)s>1?a=!0:s===1&&(o>9?a=!0:o===9&&u>=2&&(a=!0));else if(t.opera||!1)s>10?a=!0:s===10&&o>=60&&(a=!0);return a},hashchangeLoader:function(){var t=e.History,n=t.nativeSupport();if(!n){var r;if(e.browser.msie){t.$iframe=e('<iframe id="jquery-history-iframe" style="display: none;"></$iframe>').prependTo(document.body)[0];t.$iframe.contentWindow.document.open();t.$iframe.contentWindow.document.close();var i=!1;r=function(){var e=t.getHash(),n=t.getState(),r=t.extractHash(t.$iframe.contentWindow.document.location.hash);if(n!==e){if(!i){t.$iframe.contentWindow.document.open();t.$iframe.contentWindow.document.close();t.$iframe.contentWindow.document.location.hash=e}i=!1;t.$window.trigger("hashchange")}else if(n!==r){i=!0;t.setHash(r)}}}else r=function(){var e=t.getHash(),n=t.getState();n!==e&&t.$window.trigger("hashchange")};setInterval(r,200)}else{var s=t.getHash();s&&t.$window.trigger("hashchange")}return!0}};e.History.construct()}else window.console.warn("$.History has already been defined...")})(jQuery);